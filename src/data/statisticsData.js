// src/data/statisticsData.js

// 소비 카테고리 정의
export const categories = [
    '주거비', '교통비', '통신비', '의료비', '교육비', '식비', 
    '생활용품비', '이미용/화장품', '온라인 컨텐츠', '여가비', '경조사비', '금융비', '기타'
  ];
  
  // 성별에 따른 소비 비율 (만원 단위)
  export const genderData = {
    male: { // 남성
        주거비: 23.0,
        교통비: 11.0,
        통신비: 7.2,
        의료비: 4.8,
        교육비: 9.8,
        식비: 35.2,
        생활용품비: 9.8,
        '이미용/화장품': 8.4,
        '온라인 컨텐츠': 2.5,
        여가비: 8.5,
        경조사비: 4.5,
        금융비: 15.4,
        기타: 6.5
    },
    female: { // 여성
      주거비: 23.5,
      교통비: 9.3,
      통신비: 7.2,
      의료비: 5.7,
      교육비: 12.7,
      식비: 40.1,
      생활용품비: 11.1,
      '이미용/화장품': 12.0,
      '온라인 컨텐츠': 2.0,
      여가비: 7.6,
      경조사비: 4.8,
      금융비: 18.5,
      기타: 7.4
    }
  };
  
  // 연령대별 소비 비율 (만원 단위)
  export const ageData = {
    '19-24': {
      주거비: 6.4,
      교통비: 5.5,
      통신비: 3.4,
      의료비: 1.9,
      교육비: 3.0,
      식비: 18.0,
      생활용품비: 3.3,
      '이미용/화장품': 6.5,
      '온라인 컨텐츠': 1.5,
      여가비: 6.0,
      경조사비: 0.9,
      금융비: 2.5,
      기타: 2.5
    },
    '25-29': {
      주거비: 16.0,
      교통비: 8.3,
      통신비: 5.3,
      의료비: 3.2,
      교육비: 3.3,
      식비: 26.2,
      생활용품비: 6.7,
      '이미용/화장품': 11.5,
      '온라인 컨텐츠': 1.9,
      여가비: 7.4,
      경조사비: 3.5,
      금융비: 8.5,
      기타: 4.3
    },
    '30-34': {
      주거비: 20.4,
      교통비: 10.1,
      통신비: 7.8,
      의료비: 4.9,
      교육비: 4.0,
      식비: 31.2,
      생활용품비: 10.5,
      '이미용/화장품': 10.4,
      '온라인 컨텐츠': 2.3,
      여가비: 8.1,
      경조사비: 4.1,
      금융비: 15.1,
      기타: 8.2
    },
    '35-39': {
      주거비: 21.0,
      교통비: 9.8,
      통신비: 6.7,
      의료비: 3.8,
      교육비: 5.8,
      식비: 33.5,
      생활용품비: 9.2,
      '이미용/화장품': 9.7,
      '온라인 컨텐츠': 2.2,
      여가비: 7.8,
      경조사비: 4.3,
      금융비: 19.4,
      기타: 5.4
    },
    '40-44': {
      주거비: 32.8,
      교통비: 11.6,
      통신비: 9.0,
      의료비: 6.9,
      교육비: 21.3,
      식비: 46.3,
      생활용품비: 12.5,
      '이미용/화장품': 10.1,
      '온라인 컨텐츠': 2.6,
      여가비: 7.5,
      경조사비: 5.3,
      금융비: 21.8,
      기타: 8.6
    },
    '45-49': {
      주거비: 31.5,
      교통비: 12.0,
      통신비: 9.0,
      의료비: 7.0,
      교육비: 20.2,
      식비: 51.8,
      생활용품비: 13.7,
      '이미용/화장품': 10.5,
      '온라인 컨텐츠': 2.5,
      여가비: 9.0,
      경조사비: 5.6,
      금융비: 25.5,
      기타: 8.1
    },
    '50-54': {
      주거비: 28.9,
      교통비: 12.7,
      통신비: 10.1,
      의료비: 7.4,
      교육비: 15.6,
      식비: 48.1,
      생활용품비: 14.6,
      '이미용/화장품': 11.5,
      '온라인 컨텐츠': 2.8,
      여가비: 9.9,
      경조사비: 7.5,
      금융비: 21.4,
      기타: 10.1
    }
  };
  
  // 지역별 소비 비율 (만원 단위)
  export const regionData = {
    '서울': {
      주거비: 26.1,
      교통비: 8.9,
      통신비: 6.6,
      의료비: 5.1,
      교육비: 12.1,
      식비: 39.0,
      생활용품비: 9.8,
      '이미용/화장품': 11.7,
      '온라인 컨텐츠': 2.3,
      여가비: 7.3,
      경조사비: 5.4,
      금융비: 10.4,
      기타: 8.5
    },
    '인천·경기·강원': {
      주거비: 24.7,
      교통비: 10.0,
      통신비: 7.9,
      의료비: 5.2,
      교육비: 11.5,
      식비: 37.8,
      생활용품비: 10.4,
      '이미용/화장품': 10.4,
      '온라인 컨텐츠': 2.6,
      여가비: 8.5,
      경조사비: 4.7,
      금융비: 19.8,
      기타: 7.6
    },
    '대전·세종·충청': {
      주거비: 23.6,
      교통비: 12.3,
      통신비: 8.6,
      의료비: 6.8,
      교육비: 11.4,
      식비: 38.9,
      생활용품비: 11.2,
      '이미용/화장품': 9.2,
      '온라인 컨텐츠': 2.2,
      여가비: 7.6,
      경조사비: 4.7,
      금융비: 20.8,
      기타: 4.6
    },
    '대구·경북': {
      주거비: 19.8,
      교통비: 11.1,
      통신비: 7.8,
      의료비: 3.5,
      교육비: 10.9,
      식비: 34.0,
      생활용품비: 10.6,
      '이미용/화장품': 7.5,
      '온라인 컨텐츠': 2.0,
      여가비: 8.4,
      경조사비: 3.3,
      금융비: 21.8,
      기타: 4.8
    },
    '부산·울산·경남': {
      주거비: 19.2,
      교통비: 9.6,
      통신비: 7.6,
      의료비: 4.3,
      교육비: 11.1,
      식비: 36.2,
      생활용품비: 11.9,
      '이미용/화장품': 10.0,
      '온라인 컨텐츠': 1.9,
      여가비: 8.6,
      경조사비: 4.4,
      금융비: 15.9,
      기타: 8.4
    },
    '광주·전라·제주': {
      주거비: 20.4,
      교통비: 11.3,
      통신비: 6.8,
      의료비: 6.6,
      교육비: 8.5,
      식비: 37.8,
      생활용품비: 8.9,
      '이미용/화장품': 9.7,
      '온라인 컨텐츠': 1.9,
      여가비: 7.3,
      경조사비: 4.6,
      금융비: 12.2,
      기타: 4.2
    }
  };
  
  // 직업별 소비 비율 (만원 단위)
  export const occupationData = {
    '대학생·대학원생': {
      주거비: 6.9,
      교통비: 5.4,
      통신비: 3.4,
      의료비: 1.3,
      교육비: 3.1,
      식비: 17.4,
      생활용품비: 2.7,
      '이미용/화장품': 5.8,
      '온라인 컨텐츠': 1.6,
      여가비: 6.0,
      경조사비: 0.9,
      금융비: 2.2,
      기타: 2.6
    },
    '직장인': {
      주거비: 26.8,
      교통비: 12.5,
      통신비: 8.4,
      의료비: 6.2,
      교육비: 12.3,
      식비: 41.7,
      생활용품비: 12.0,
      '이미용/화장품': 11.9,
      '온라인 컨텐츠': 2.8,
      여가비: 8.6,
      경조사비: 5.8,
      금융비: 20.6,
      기타: 8.3
    },
    '자영업자·개인사업자·법인사업자': {
      주거비: 28.4,
      교통비: 9.9,
      통신비: 7.9,
      의료비: 5.2,
      교육비: 12.6,
      식비: 39.1,
      생활용품비: 13.5,
      '이미용/화장품': 8.3,
      '온라인 컨텐츠': 1.7,
      여가비: 10.8,
      경조사비: 3.8,
      금융비: 15.1,
      기타: 6.8
    },
    '프리랜서·파트타임·아르바이트': {
      주거비: 23.5,
      교통비: 8.1,
      통신비: 7.3,
      의료비: 5.0,
      교육비: 10.9,
      식비: 36.3,
      생활용품비: 9.7,
      '이미용/화장품': 9.3,
      '온라인 컨텐츠': 1.4,
      여가비: 6.2,
      경조사비: 2.4,
      금융비: 16.8,
      기타: 8.9
    },
    '전업주부': {
      주거비: 32.3,
      교통비: 9.7,
      통신비: 9.9,
      의료비: 6.9,
      교육비: 24.5,
      식비: 57.9,
      생활용품비: 13.7,
      '이미용/화장품': 11.6,
      '온라인 컨텐츠': 2.0,
      여가비: 9.9,
      경조사비: 7.6,
      금융비: 27.2,
      기타: 8.1
    },
    '취업준비생·무직·기타': {
      주거비: 8.8,
      교통비: 4.5,
      통신비: 5.5,
      의료비: 2.8,
      교육비: 1.7,
      식비: 18.3,
      생활용품비: 5.6,
      '이미용/화장품': 5.1,
      '온라인 컨텐츠': 1.7,
      여가비: 5.3,
      경조사비: 1.6,
      금융비: 3.3,
      기타: 1.5
    }
  };
  
  // 개인소득별 소비 비율 (만원 단위)
  export const incomeData = {
    '100만원 미만': {
      주거비: 14.2,
      교통비: 5.9,
      통신비: 5.7,
      의료비: 3.2,
      교육비: 9.1,
      식비: 28.6,
      생활용품비: 6.8,
      '이미용/화장품': 6.8,
      '온라인 컨텐츠': 1.5,
      여가비: 6.3,
      경조사비: 2.4,
      금융비: 10.5,
      기타: 4.1
    },
    '100만원~300만원': {
      주거비: 21.3,
      교통비: 8.8,
      통신비: 7.2,
      의료비: 4.1,
      교육비: 6.8,
      식비: 30.6,
      생활용품비: 8.0,
      '이미용/화장품': 7.5,
      '온라인 컨텐츠': 1.7,
      여가비: 5.6,
      경조사비: 3.4,
      금융비: 14.4,
      기타: 7.9
    },
    '300만원 이상': {
      주거비: 30.0,
      교통비: 13.9,
      통신비: 8.9,
      의료비: 7.3,
      교육비: 16.1,
      식비: 48.7,
      생활용품비: 14.5,
      '이미용/화장품': 14.3,
      '온라인 컨텐츠': 3.3,
      여가비: 11.2,
      경조사비: 7.0,
      금융비: 22.7,
      기타: 7.8
    }
  };
  
  // 선택한 특성에 따라 해당 데이터를 가져오는 함수
  export const getGroupAverageBySelections = (selections) => {
    const { gender, age, region, occupation, income } = selections;
    
    // 각 선택에 따른 데이터 가져오기
    const genderAvg = gender ? genderData[gender] || {} : {};
    const ageAvg = age ? ageData[age] || {} : {};
    const regionAvg = region ? regionData[region] || {} : {};
    const occupationAvg = occupation ? occupationData[occupation] || {} : {};
    const incomeAvg = income ? incomeData[income] || {} : {};
    
    // 소비 카테고리별로 평균 계산
    const result = {};
    
    categories.forEach(category => {
      // 선택된 특성별 소비 비율이 있는 경우에만 계산에 포함
      let sum = 0;
      let count = 0;
      
      if (gender && genderAvg[category]) {
        sum += genderAvg[category];
        count++;
      }
      
      if (age && ageAvg[category]) {
        sum += ageAvg[category];
        count++;
      }
      
      if (region && regionAvg[category]) {
        sum += regionAvg[category];
        count++;
      }
      
      if (occupation && occupationAvg[category]) {
        sum += occupationAvg[category];
        count++;
      }
      
      if (income && incomeAvg[category]) {
        sum += incomeAvg[category];
        count++;
      }
      
      // 평균 계산 (데이터가 없을 경우 0)
      result[category] = count > 0 ? (sum / count) : 0;
    });
    
    return result;
  };
  
  // 모의 사용자 데이터 (소비 금액 - 후에 업로드 데이터로 대체)
  export const mockUserSpending = {
    주거비: 35,
    교통비: 12,
    통신비: 8,
    의료비: 5,
    교육비: 15,
    식비: 45,
    생활용품비: 10,
    '이미용/화장품': 12,
    '온라인 컨텐츠': 5,
    여가비: 8,
    경조사비: 4,
    금융비: 20,
    기타: 7
  };
  
  // 비교 데이터 생성 함수
  export const generateComparisonData = (selections) => {
    // 선택된 특성에 따른 그룹 평균 비율 가져오기
    const groupAvgPercentages = getGroupAverageBySelections(selections);
    
    // 비교 데이터 생성
    return categories.map(category => ({
      category,
      user: mockUserSpending[category] || 0,  // 만원 단위
      group: groupAvgPercentages[category] || 0  // 만원 단위
    }));
  };
  
  // 로컬 스토리지에서 사용자 데이터를 로드하는 함수
  export const loadUserSpendingData = () => {
    const savedUserSpending = localStorage.getItem('userSpending');
    if (savedUserSpending) {
      try {
        return JSON.parse(savedUserSpending);
      } catch (e) {
        console.error('저장된 사용자 데이터 파싱 오류:', e);
      }
    }
    return mockUserSpending;  // 기본값으로 목업 데이터 반환
  };